{% extends 'base.html' %} <!-- Herda base -->

{% block conteudo %} <!-- Conteúdo -->
<h1 class="mb-4">{{ titulo }}</h1> <!-- Título -->

<div class="d-flex gap-2 mb-3"> <!-- Barra -->
  <a href="{{ url_for('users.criar') }}" class="btn btn-success">+ Cadastrar Usuário</a> <!-- Botão criar -->
</div> <!-- Fecha -->

<ul class="list-group"> <!-- Lista -->
  {% for u in usuarios %} <!-- Loop usuários -->
    <li class="list-group-item d-flex justify-content-between align-items-center"> <!-- Item -->
      <div> <!-- Coluna esquerda -->
        <strong>#{{ u.id }}</strong> - {{ u.username }} <!-- Id e nome -->
        {% if u.is_admin %}<span class="badge text-bg-warning ms-2">admin</span>{% endif %} <!-- Badge admin -->
      </div> <!-- Fecha -->

      <div class="d-flex gap-2"> <!-- Ações -->
        <a class="btn btn-sm btn-warning" href="{{ url_for('users.editar', id=u.id) }}">Editar</a> <!-- Editar -->

        <form method="POST" action="{{ url_for('users.deletar', id=u.id) }}" onsubmit="return confirm('Excluir usuário {{ u.username }}?');"> <!-- Delete -->
          <button class="btn btn-sm btn-danger" type="submit">Excluir</button> <!-- Botão -->
        </form> <!-- Fecha -->
      </div> <!-- Fecha ações -->
    </li> <!-- Fecha item -->
  {% endfor %} <!-- Fecha loop -->
</ul> <!-- Fecha lista -->
{% endblock %} <!-- Fecha -->
